"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let t={isNode:function(t){return t instanceof HTMLElement||t&&1===t.nodeType}};var e=Object.freeze({__proto__:null,check:t,formatNumber:function(t){"string"==typeof t&&(t=parseFloat(t));let e=t.toFixed(2).toString(),n="",o=0,r=e.indexOf(".")-1;for(;r>=0;r--)n=o%3==0&&0!==o?e.charAt(r)+","+n:e.charAt(r)+n,o++;return n+(e+"00").substr((e+"00").indexOf("."),3)}});function n(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}let o,r,s;function l(t,e){(o(t,e)?s:r)(t,e)}"classList"in document.documentElement?(o=(t,e)=>t.classList.contains(e),r=(t,e)=>t.classList.add(e),s=(t,e)=>t.classList.remove(e)):(o=(t,e)=>n(e).test(t.className),r=(t,e)=>{o(t,e)||(t.className=t.className+" "+e)},s=(t,e)=>{t.className=t.className.replace(n(e),"")});let i={hasClass:o,addClass:r,removeClass:s,toggleClass:l,has:o,add:r,remove:s,toggle:l};function a(e){return!(e!==document&&!t.isNode(e))||(console.warn(`argument root => ${e} is not element!`),!1)}var c=Object.freeze({__proto__:null,classie:i,$:function(t,e=document){return a(e)?e.querySelector(t):null},$$:function(t,e=document){return a(e)?e.querySelectorAll(t):null}});function u(t){if(/^#([0-9a-f]{3})$/.test(t)){let e=parseInt(t.replace(/^#/,""),16);return`rgb(${e>>8|e>>4&240}, ${e>>4&15|240&e}, ${(15&e)<<4|15&e})`}if(/^#([0-9a-f]{6})$/.test(t)){let e=parseInt(t.replace(/^#/,""),16);return`rgb(${e>>16}, ${e>>8&255}, ${255&e})`}throw new Error(`argument ${t} is not a color`)}var d=Object.freeze({__proto__:null,Djs:class{constructor(e,n){if(!t.isNode(e))throw TypeError(`argument el => ${e} is not element`);this.el=e,this.leftSecond=Math.floor(n/1e3),this.timer=null}show(t="倒计时"){this.handle(t),this.timer=setInterval(()=>this.handle(t),1e3)}handle(t){let e,n,o,r;e=Math.floor(this.leftSecond/86400),n=Math.floor(this.leftSecond/3600)%24,o=Math.floor(this.leftSecond/60)%60,r=this.leftSecond%60,this.leftSecond<=0?(clearInterval(this.timer),this.el.innerHTML="已结束"):(this.el.innerHTML=e>0?`${t} ${e}天${n}时${o}分${r}秒`:n>0?`${t} ${n}时${o}分${r}秒`:`${t} ${o}分${r}秒`,this.leftSecond-=1)}},randomColor16:function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},randomColorOpacity:function(t=.5){return`rgba(${~~(256*Math.random())},${~~(256*Math.random())},${~~(256*Math.random())},${t})`},hex2rgb:u,rgb2hsl:function(t){let e=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;if(e.test(t)){let n=0,o=0,r=0,s=0,l=0,i=0;t.replace(e,(t,e,s,l)=>(n=+e/255,o=+s/255,r=+l/255,`${e}-${s}-${l}`));let a=Math.max(n,o,r),c=Math.min(n,o,r),u=a-c;return s=a===c?0:a===n&&o>=r?60*(o-r)/u:a===n&&o<r?60*(o-r)/u+360:a===o?60*(r-n)/u+120:60*(n-o)/u+240,i=(a+c)/2,l=0===i||a===c?0:0<i&&i<=.5?u/(a+c):u/(2-a-c),`hsl(${Math.round(s)}, ${Math.round(100*l)}%, ${Math.round(100*i)}%)`}throw new Error(`argument ${t} is not a color`)},clip2board:function(t){return navigator.clipboard?(console.info("使用原生api => navigator.clipboard"),navigator.clipboard.writeText(t)):new Promise((e,n)=>{if(document.queryCommandSupported("copy")){let o,r=function(){let t="rtl"===document.documentElement.getAttribute("dir"),e=document.createElement("textarea");e.style.fontSize="12pt",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style[t?"right":"left"]="-9999px";let n=window.pageYOffset||document.documentElement.scrollTop;return e.style.top=n+"px",e.setAttribute("readonly",""),e}();r.value=t,document.body.appendChild(r),r.select(),r.setSelectionRange(0,t.length);try{o=document.execCommand("Copy"),o?e():n("不支持复制功能")}catch(t){n(t.message)}r.remove()}else n("不支持复制功能")})},throttle:function(t,e){let n=Date.now(),o=null;return(...r)=>{o=Date.now(),o-n>e&&(t(...r),n=o)}},debounce:function(t,e){let n=null;return(...o)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...o)},e)}}});var f=Object.freeze({__proto__:null,eventMixin:function(t){t.prototype._events={},t.prototype.on=function(t,e,n=this){this._events[t]||(this._events[t]=[]),this._events[t].push([e,n])},t.prototype.once=function(t,e,n=this){function o(...r){this.off(t,o),e.apply(n,r)}o.fn=e,this.on(t,o)},t.prototype.off=function(t,e){let n=this._events[t];if(!n)return;let o=n.length;for(;o--;)(n[o][0]===e||n[o][0]&&n[o][0].fn===e)&&(n[o][0]=void 0)},t.prototype.trigger=function(t,...e){let n=this._events[t];if(!n)return;let o=n.length,r=[...n];for(let t=0;t<o;t++){let n=r[t],[o,s]=n;o&&o.apply(s,e)}}}});let h={listenerFn:void 0,stiff:!0,accept:["target","easing","duration","delay","loop"],aniProps:[],aniPropsAll:[],getPropsAll(){return this.aniPropsAll.length?this.aniPropsAll:Object.keys(getComputedStyle(document.body)).filter((t,e,n)=>isNaN(Number(t))&&!t.startsWith("webkit"))},initProps(...t){let e=this.getPropsAll(),n=[];for(let o of t)e.includes(o)&&n.push(o);this.aniProps=n},ani(t,e){return new Promise((n,o)=>{let r=t.target,s=t.easing||"ease",l=t.duration||300,i=t.delay||0;t.loop;r.style.transition=`all ${l}ms ${s} ${i}ms`,void 0!==this.listenerFn&&r.removeEventListener("transitionend",this.listenerFn),this.listenerFn=()=>{this.stiff=!0,n()},r.addEventListener("transitionend",this.listenerFn);for(let t of this.aniProps){let n=e[t];n&&(/^#([0-9a-f]{3})$/.test(n)||/^#([0-9a-f]{6})$/.test(n)?u(n)!==r.style[t]&&(console.log(`update color ${t}: ${n}`),r.style[t]=n,this.stiff=!1):n!==r.style[t]&&(console.log(`update ${t}: ${n}`),r.style[t]=n,this.stiff=!1))}this.stiff&&n()})}};var p=Object.freeze({__proto__:null,Ani:h});exports.Animate=p,exports.Dom=c,exports.Event=f,exports.Logic=d,exports.Utils=e;
